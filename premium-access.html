<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <!-- SEO: Hide from search engines -->
    <meta name="robots" content="noindex, nofollow">
    
    <title>Restricted Access | The Gateway</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Outfit:wght@300;400;500;600&family=JetBrains+Mono:wght@400&display=swap" rel="stylesheet">
    
    <!-- Favicon -->
    <link rel="icon" href="https://aiartisan.hqaim.com/images/favicon.ico" type="image/x-icon" />

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        obsidian: '#050507',
                        gold: '#d4af37',
                        'gold-light': '#f3e5ab',
                        'gold-dark': '#aa8c2c',
                        glass: 'rgba(255, 255, 255, 0.03)'
                    },
                    fontFamily: {
                        serif: ['Cinzel', 'serif'],
                        sans: ['Outfit', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    animation: {
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'float': 'float 6s ease-in-out infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #050507;
            background-image: radial-gradient(circle at 50% -20%, #1e293b 0%, #000000 80%);
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            overflow-y: auto;
            overflow-x: hidden;
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #050507; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #d4af37; }

        /* Gold Glow Text */
        .gold-glow {
            text-shadow: 0 0 20px rgba(212, 175, 55, 0.4), 0 0 40px rgba(212, 175, 55, 0.1);
        }

        /* Glass Card */
        .glass-card {
            background: rgba(15, 23, 42, 0.6);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        /* Input Field Animation */
        .input-group {
            position: relative;
            transition: all 0.3s ease;
        }
        .input-group:focus-within {
            transform: scale(1.02);
        }
        .input-group:focus-within .input-border {
            border-color: #d4af37;
            box-shadow: 0 0 15px rgba(212, 175, 55, 0.15);
            background: rgba(0, 0, 0, 0.6);
        }

        /* Loader */
        .loader {
            width: 18px;
            height: 18px;
            border: 2px solid rgba(0,0,0,0.1);
            border-left-color: #000;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { 100% { transform: rotate(360deg); } }

        /* Particle Background */
        #particles {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 0;
        }
        .particle {
            position: absolute;
            background: #d4af37;
            border-radius: 50%;
            opacity: 0.2;
            animation: float-up var(--duration) linear infinite;
        }
        @keyframes float-up {
            0% { transform: translateY(100vh) scale(0); opacity: 0; }
            50% { opacity: 0.4; }
            100% { transform: translateY(-10vh) scale(1); opacity: 0; }
        }

        /* Typing Cursor */
        .typing-cursor::after {
            content: '|';
            animation: blink 1s step-start infinite;
            color: #d4af37;
        }
        @keyframes blink { 50% { opacity: 0; } }

        /* Shake Animation */
        .shake {
            animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
        }
        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
            40%, 60% { transform: translate3d(4px, 0, 0); }
        }
    </style>
</head>
<body class="text-gray-300 font-sans">

    <!-- Particle Background Container -->
    <div id="particles"></div>

    <!-- Minimal Header -->
    <nav class="relative z-20 w-full p-6 flex justify-between items-center border-b border-white/5 bg-black/20 backdrop-blur-sm shrink-0">
        <div class="flex items-center gap-4 group cursor-pointer" onclick="window.location.href='https://aiartisan.hqaim.com/'">
            <div class="relative">
                <div class="absolute inset-0 bg-gold/20 rounded-full blur group-hover:bg-gold/40 transition-all duration-500"></div>
                <img src="https://aiartisan.hqaim.com/assets/images/HQAIM-App_Logo.svg" alt="Logo" class="w-8 h-8 object-contain relative z-10">
            </div>
            <div class="flex flex-col">
                <span class="font-serif font-bold text-lg tracking-widest text-white group-hover:text-gold transition-colors duration-300">The AI Artisan</span>
                <span class="text-[8px] text-gray-500 uppercase tracking-[0.2em]">Secure Ecosystem</span>
            </div>
        </div>
        <a href="https://aiartisan.hqaim.com/" class="text-xs text-gray-500 hover:text-white transition-colors font-mono flex items-center gap-2 group">
            <span class="group-hover:-translate-x-1 transition-transform duration-300"><i class="fa-solid fa-arrow-left"></i></span>
            <span class="hidden md:inline">RETURN_HOME</span>
        </a>
    </nav>

    <!-- Main Login Area -->
    <main class="flex-grow flex flex-col items-center justify-center relative z-10 w-full px-4 py-10">
        
        <!-- Login Card -->
        <div id="loginCard" class="w-full max-w-[420px] glass-card rounded-2xl p-1 relative overflow-hidden transition-all duration-500">
            <!-- Top Accent Line -->
            <div class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-gold to-transparent opacity-50"></div>
            
            <div class="bg-[#0a0b10]/90 rounded-xl p-8 relative z-10">
                
                <!-- Icon & Title -->
                <div class="text-center mb-10">
                    <div class="w-20 h-20 mx-auto bg-gradient-to-b from-white/5 to-transparent rounded-full flex items-center justify-center border border-white/5 mb-6 animate-float">
                        <i class="fa-solid fa-lock text-3xl text-gold drop-shadow-[0_0_15px_rgba(212,175,55,0.5)]"></i>
                    </div>
                    <h1 class="text-2xl font-serif font-bold text-white mb-2 tracking-wider" id="typewriter"></h1>
                    <p class="text-xs text-gray-500 uppercase tracking-[0.2em] font-mono">Authorized Access Only</p>
                </div>

                <!-- Input Form -->
                <div class="space-y-6">
                    <div class="input-group">
                        <label class="block text-sm font-bold text-gold uppercase tracking-wider mb-2 ml-1">Access Key</label>
                        <div class="input-border relative flex items-center bg-black/50 border border-white/10 rounded-lg transition-colors duration-300">
                            <div class="pl-4 text-gray-500">
                                <i class="fa-solid fa-key text-sm"></i>
                            </div>
                            
                            <!-- Input Field -->
                            <input type="password" id="accessKey" 
                                class="w-full bg-transparent border-none text-white text-sm font-mono p-4 focus:ring-0 placeholder-gray-600 tracking-[0.2em]"
                                placeholder="•••• •••• ••••">
                                
                            <!-- Eye Icon for Visibility Toggle -->
                            <button type="button" onclick="togglePasswordVisibility()" class="pr-4 text-gray-500 hover:text-white transition-colors focus:outline-none">
                                <i id="eyeIcon" class="fa-solid fa-eye"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Status Row -->
                    <div class="flex items-center justify-end px-1">
                        <div class="flex items-center gap-2">
                            <span class="relative flex h-2 w-2">
                              <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
                              <span class="relative inline-flex rounded-full h-2 w-2 bg-green-500"></span>
                            </span>
                            <span class="text-[10px] text-gray-400 font-medium tracking-wide">System Secure</span>
                        </div>
                    </div>

                    <!-- Main Button -->
                    <button onclick="attemptUnlock()" class="group w-full bg-gradient-to-r from-gold to-gold-dark hover:brightness-110 text-black font-bold py-4 rounded-lg shadow-[0_0_20px_rgba(212,175,55,0.15)] transition-all duration-300 transform active:scale-[0.98] flex items-center justify-center gap-3 relative overflow-hidden mt-2">
                        <div class="absolute inset-0 bg-white/20 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700 skew-x-12"></div>
                        <span id="btnText" class="relative z-10 text-xs tracking-[0.15em] uppercase font-bold">INITIALIZE SESSION</span>
                        <div id="btnLoader" class="loader hidden"></div>
                    </button>
                    
                    <!-- Help Link -->
                    <div class="text-center pt-4 border-t border-white/5 mt-4">
                        <button onclick="toggleHelpModal()" class="text-[10px] text-gray-500 hover:text-white transition-colors flex items-center justify-center gap-2 group mx-auto uppercase tracking-widest font-semibold opacity-70 hover:opacity-100">
                            <i class="fa-solid fa-circle-info text-gray-600 group-hover:text-gold transition-colors"></i>
                            <span>NEED ASSISTANCE?</span>
                        </button>
                    </div>
                </div>

                <!-- Status Area -->
                <div class="mt-4 h-6 flex items-center justify-center">
                    <p id="statusMessage" class="text-[10px] font-mono tracking-wide text-red-500 opacity-0 transition-opacity duration-300 flex items-center gap-2">
                        <i class="fa-solid fa-triangle-exclamation"></i> <span>ACCESS DENIED</span>
                    </p>
                </div>

            </div>
        </div>
        
        <!-- Security Badge -->
        <div class="mt-8 flex items-center gap-2 text-[10px] text-gray-600 font-mono opacity-50">
            <i class="fa-solid fa-shield-cat"></i>
            <span>SECURE GATEWAY // v2.1.4</span>
        </div>

    </main>

    <!-- Minimal Page Footer -->
    <footer class="relative z-20 w-full p-6 border-t border-white/5 bg-black/20 backdrop-blur-sm shrink-0">
        <div class="flex flex-col md:flex-row justify-between items-center gap-4 text-center md:text-left">
            <p class="text-[10px] text-gray-500 uppercase tracking-widest">&copy; 2025 <a href="https://www.hqaim.com" class="hover:text-gold transition-colors font-bold">The AI Artisan — HQAIM</a>. All Rights Reserved.</p>
            <div class="flex gap-6 flex-wrap justify-center text-[10px] text-gray-500 uppercase tracking-widest font-semibold">
                <a href="https://aiartisan.hqaim.com/privacy.html" class="hover:text-gold transition-colors">Privacy</a>
                <a href="https://aiartisan.hqaim.com/terms.html" class="hover:text-gold transition-colors">Terms</a>
                <a href="https://aiartisan.hqaim.com/contact.html" class="hover:text-gold transition-colors">Contact</a>
            </div>
        </div>
    </footer>

    <!-- Help Modal -->
    <div id="helpModal" class="fixed inset-0 z-50 flex items-center justify-center px-4 bg-black/90 backdrop-blur-sm opacity-0 pointer-events-none transition-all duration-300">
        <div class="w-full max-w-sm glass-card rounded-2xl p-8 relative transform scale-95 transition-transform duration-300">
            <button onclick="toggleHelpModal()" class="absolute top-4 right-4 text-gray-500 hover:text-white transition-colors">
                <i class="fa-solid fa-xmark text-lg"></i>
            </button>
            
            <div class="text-center space-y-6">
                <div class="w-12 h-12 bg-gold/10 rounded-full flex items-center justify-center mx-auto text-gold border border-gold/20">
                    <i class="fa-regular fa-life-ring text-xl"></i>
                </div>
                <div>
                    <h3 class="text-lg font-serif font-bold text-white mb-2">Access Support</h3>
                    <p class="text-xs text-gray-400 leading-relaxed">
                        This portal is restricted to premium members of The AI Artisan ecosystem.
                    </p>
                </div>
                
                <div class="bg-black/40 rounded-lg p-4 text-left border border-white/5">
                    <div class="flex gap-3 mb-2">
                        <i class="fa-solid fa-key text-gray-500 mt-0.5 text-xs"></i>
                        <div>
                            <p class="text-[10px] text-gold font-bold uppercase tracking-wider mb-1">Lost your key?</p>
                            <p class="text-[10px] text-gray-400 leading-relaxed">Please check your welcome email or contact your administrator directly.</p>
                        </div>
                    </div>
                </div>

                <a href="https://aiartisan.hqaim.com/contact.html" class="block w-full py-3 border border-white/10 hover:bg-white/5 text-white text-xs font-bold rounded-lg transition-all uppercase tracking-wider">
                    Contact Support
                </a>
            </div>
        </div>
    </div>

    <script>
        // =================================================================
        // 1. OPEN 'admin-lock-maker.html'
        // 2. GENERATE YOUR LOCK CODE
        // 3. PASTE THE 'const lockConfig = ...' CODE BLOCK BELOW THIS LINE
        // =================================================================
        
// Generated for: Diamond@131 
const lockConfig = {
  "salt": "Df4RoWKGetKeHTHl3VQ5Lg==",
  "iv": "CFNYzwvT7ZYkRvmN",
  "ciphertext": "vcOcQ3Rpg9gN8kcsHZF6L/y+SaTYhtgG9BemubyT9HnEdPw/Owbg/VvUz6h9sBeSzoEdw6S0lf97FcCqk/bxi6266uYSrfSvyWUxBjLi3p2QIOUwrakziaiwZzGI2+VtSf5yizXSp0zAnR1nkdkO/ZZFGxGqCAM7jb0rmC3T"
};

        // =================================================================

        // --- Typewriter Effect ---
        const titleText = "RESTRICTED ACCESS";
        const titleElement = document.getElementById('typewriter');
        let i = 0;
        
        function typeWriter() {
            if (i < titleText.length) {
                titleElement.innerHTML += titleText.charAt(i);
                titleElement.classList.add('typing-cursor');
                i++;
                setTimeout(typeWriter, 100);
            } else {
                setTimeout(() => titleElement.classList.remove('typing-cursor'), 1000);
            }
        }

        // --- Particle System ---
        function createParticles() {
            const container = document.getElementById('particles');
            const particleCount = 20;
            
            for (let i = 0; i < particleCount; i++) {
                const p = document.createElement('div');
                p.className = 'particle';
                
                // Randomize properties
                const size = Math.random() * 3 + 1;
                const left = Math.random() * 100;
                const duration = Math.random() * 15 + 10;
                const delay = Math.random() * 5;
                
                p.style.width = `${size}px`;
                p.style.height = `${size}px`;
                p.style.left = `${left}%`;
                p.style.setProperty('--duration', `${duration}s`);
                p.style.animationDelay = `-${delay}s`;
                
                container.appendChild(p);
            }
        }

        // --- Init ---
        window.onload = function() {
            typeWriter();
            createParticles();
        };

        // --- Password Visibility Toggle ---
        function togglePasswordVisibility() {
            const input = document.getElementById('accessKey');
            const icon = document.getElementById('eyeIcon');
            
            if (input.type === "password") {
                input.type = "text";
                icon.classList.remove('fa-eye');
                icon.classList.add('fa-eye-slash');
            } else {
                input.type = "password";
                icon.classList.remove('fa-eye-slash');
                icon.classList.add('fa-eye');
            }
        }

        // --- Unlock Logic ---
        async function attemptUnlock() {
            const password = document.getElementById('accessKey').value;
            const statusMsg = document.getElementById('statusMessage');
            const btnText = document.getElementById('btnText');
            const btnLoader = document.getElementById('btnLoader');
            const loginCard = document.getElementById('loginCard');
            // Removed direct reference to checkIcon here, status logic handles visuals

            if (!password) {
                triggerShake();
                return;
            }

            if (typeof lockConfig === 'undefined') {
                alert("System Configuration Missing.");
                return;
            }

            // UI Loading State
            btnText.innerText = "DECRYPTING...";
            btnLoader.classList.remove('hidden');
            statusMsg.style.opacity = '0';

            try {
                // 1. Decode Base64
                const fromBase64 = (str) => Uint8Array.from(atob(str), c => c.charCodeAt(0));
                const salt = fromBase64(lockConfig.salt);
                const iv = fromBase64(lockConfig.iv);
                const ciphertext = fromBase64(lockConfig.ciphertext);

                // 2. Derive Key
                const enc = new TextEncoder();
                const keyMaterial = await window.crypto.subtle.importKey(
                    "raw", enc.encode(password), { name: "PBKDF2" }, false, ["deriveKey"]
                );

                const key = await window.crypto.subtle.deriveKey(
                    { name: "PBKDF2", salt: salt, iterations: 100000, hash: "SHA-256" },
                    keyMaterial, { name: "AES-GCM", length: 256 }, false, ["decrypt"]
                );

                // 3. Decrypt
                const decryptedContent = await window.crypto.subtle.decrypt(
                    { name: "AES-GCM", iv: iv }, key, ciphertext
                );

                const dec = new TextDecoder();
                const jsonString = dec.decode(decryptedContent);
                let targetUrl = jsonString; 

                // 4. Parse & Check Expiry
                try {
                    const payload = JSON.parse(jsonString);
                    if (payload.url) {
                        targetUrl = payload.url;
                        if (payload.expiry && Date.now() > payload.expiry) {
                            throw new Error("EXPIRED_KEY");
                        }
                    }
                } catch (e) {
                    if (e.message === "EXPIRED_KEY") throw e;
                }

                // Success
                statusMsg.innerHTML = '<i class="fa-solid fa-unlock text-green-400"></i> <span class="text-green-400">ACCESS GRANTED</span>';
                statusMsg.style.opacity = '1';
                btnText.innerText = "REDIRECTING";
                btnLoader.classList.add('hidden');
                
                localStorage.setItem('premium_token', 'active');
                
                setTimeout(() => {
                    window.location.href = targetUrl;
                }, 800);

            } catch (e) {
                // Failure
                console.error(e);
                btnLoader.classList.add('hidden');
                btnText.innerText = "INITIALIZE SESSION";
                triggerShake();
                
                statusMsg.style.opacity = '1';
                if (e.message === "EXPIRED_KEY") {
                    statusMsg.innerHTML = '<i class="fa-solid fa-clock text-red-500"></i> <span>ACCESS KEY EXPIRED</span>';
                } else {
                    statusMsg.innerHTML = '<i class="fa-solid fa-triangle-exclamation text-red-500"></i> <span>INVALID CREDENTIALS</span>';
                }
            }
        }

        function triggerShake() {
            const card = document.getElementById('loginCard');
            card.classList.remove('shake');
            void card.offsetWidth; // Trigger reflow
            card.classList.add('shake');
        }

        // --- Modal Logic ---
        function toggleHelpModal() {
            const modal = document.getElementById('helpModal');
            const content = modal.querySelector('div');
            
            if (modal.style.opacity === '1') {
                modal.style.opacity = '0';
                modal.style.pointerEvents = 'none';
                content.classList.remove('scale-100');
                content.classList.add('scale-95');
            } else {
                modal.style.opacity = '1';
                modal.style.pointerEvents = 'auto';
                content.classList.remove('scale-95');
                content.classList.add('scale-100');
            }
        }

        // Close modal on outside click
        document.getElementById('helpModal').addEventListener('click', function(e) {
            if (e.target === this) toggleHelpModal();
        });

        // Enter key support
        document.getElementById('accessKey').addEventListener('keypress', function (e) {
            if (e.key === 'Enter') attemptUnlock();
        });
    </script>
</body>
</html>
